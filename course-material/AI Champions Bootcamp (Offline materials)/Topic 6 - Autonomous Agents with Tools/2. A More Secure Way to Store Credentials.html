<!DOCTYPE html>
<html><head>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/webpage.js" async="" id="webpage-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/graph-view.js" type="module" async="" id="graph-view-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/graph-wasm.js" async="" id="graph-wasm-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/graph-render-worker.js" async="" id="graph-render-worker-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/tinycolor.js" async="" id="tinycolor-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/pixi.js" async="" id="pixi-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/minisearch.js" async="" id="minisearch-script"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/flowbite.min.js" class="" style="transition: opacity 0.5s ease-in-out"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/saved_resource.js" class="" style="transition: opacity 0.5s ease-in-out"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/index.js" class="" style="transition: opacity 0.5s ease-in-out"></script>
  <script src="https://sp-soc-kh.github.io/ai-bootcamp-static/js/graph-data.js" async="" id="graph-data-script" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)" loaded="true"></script>
  <link rel="alternate" href="https://abc-notes.data.tech.gov.sg/notes/lib/rss.xml" type="application/rss+xml" title="RSS Feed">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/flowbite.min.css" class="" style="transition: opacity 0.5s ease-in-out">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/full.css" type="text/css" class="" style="transition: opacity 0.5s ease-in-out">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/obsidian.css">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/theme.css">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/global-variable-styles.css">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/main-styles.css">
  <link rel="stylesheet" href="https://sp-soc-kh.github.io/ai-bootcamp-static/css/fix-style.css">
</head><body style="color: rgb(32, 33, 34); font-family: verdana, sans-serif; font-size: 12px;" class="publish css-settings-manager theme-light show-inline-title show-ribbon floating-sidebars is-tablet"><div class="webpage-container workspace">
<div class="document-container markdown-reading-view">
<div class="markdown-preview-view markdown-rendered is-readable-line-width">
<pre class="frontmatter language-yaml" style="display: none;" tabindex="0"><code class="language-yaml is-loaded"><span class="token key atrule">icon</span><span class="token punctuation">:</span> LiWrench</code><button class="copy-code-button">Copy</button></pre>
<div class="markdown-preview-sizer markdown-preview-section">
<div id="webpage-icon">
<p dir="auto"><span class="cm-iconize-icon" aria-label="LiWrench" data-icon="LiWrench" aria-hidden="true" style="display: inline-flex; transform: translateY(13%);"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-wrench">
                  <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z">
                  </path>
                </svg></span></p>
</div>
<ol start="2">
<li dir="auto" class="page-title heading fix-heading">Title: A More Secure way to Store Credentials</li>
</ol>
<h1 class="page-title heading inline-title" id="Title: A More Secure way to Store Credentials"></h1>
<div class="heading-wrapper">
<div class="heading-children">
<div>
<ul class="steps">
<li class="step step-success" data-content="üìí" dir="auto">Towards AI Agents</li>
<li class="step step-success" data-content="üîß" dir="auto">More Secure way to Store Credentials</li>
<li class="step" data-content="üîß" dir="auto">Writing &amp; Running Python Scripts</li>
<li class="step" data-content="üë®üèª‚Äçüíª" dir="auto">Hands-on Walkthrough and Tasks</li>
<li class="step" data-content="üìí" dir="auto">Create Multi-Agent Systems with CrewAI</li>
</ul>
</div>
<div>
<p dir="auto"></p>
<div src="https://sp-soc-kh.github.io/ai-bootcamp-static/images/img-20240907141456999.png" class="internal-embed media-embed image-embed is-loaded"><img src="https://sp-soc-kh.github.io/ai-bootcamp-static/images/img-20240907141456999.png"></div>
</div>
<div>
<div class="block-language-toc dynamic-toc">
<h1 data-heading="Table of Contents" dir="auto" class="heading" id="Table_of_Contents">Table of Contents</h1>
<ul>
<li dir="auto"><a data-href="#The &quot;getpass()&quot; function" href="#The_%22getpass()%22_function" class="internal-link" target="_self" rel="noopener">The "getpass()" function</a></li>
<li dir="auto"><a data-href="#Where &quot;getpass()&quot; no longer works" href="#Where_%22getpass()%22_no_longer_works" class="internal-link" target="_self" rel="noopener">Where "getpass()" no longer works</a></li>
<li dir="auto"><a data-href="#Securely Managing API Keys &amp; Credentials with &quot;Environment Variables&quot;" href="#Securely_Managing_API_Keys_&amp;_Credentials_with_%22Environment_Variables%22" class="internal-link" target="_self" rel="noopener">Securely Managing API Keys &amp; Credentials with "Environment Variables"</a>
<ul>
<li dir="auto"><a data-href="#What is a `.env` File?" href="#What_is_a_`.env`_File?" class="internal-link" target="_self" rel="noopener">What is a .env File?</a></li>
<li dir="auto"><a data-href="#Why Use a `.env` File?" href="#Why_Use_a_`.env`_File?" class="internal-link" target="_self" rel="noopener">Why Use a .env File?</a></li>
<li dir="auto"><a data-href="#How to Create and Use a `.env` File:" href="#How_to_Create_and_Use_a_`.env`_File:" class="internal-link" target="_self" rel="noopener">How to Create and Use a .env File:</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="heading-wrapper">
<h1 data-heading="The &quot;getpass()&quot; function" dir="auto" class="heading" id="The_&quot;getpass()&quot;_function">The "getpass()" function</h1>
<div class="heading-children">
<div>
<p dir="auto">After getting familiar with Jupyter Notebook, especially Google Colab that is hosted remotely on a server, you would realize that it is very dangerous to specify our API key in the notebook or script.</p>
</div>
<div>
<p dir="auto">What we have been using until this point is to rely on the <code>getpass()</code> function to allow users (in fact us), to input the <code>API Key</code> and store the value into a variable, shown below.</p>
</div>
<div>
<pre class="d2l-code"><code class="language-python">from openai import OpenAI  
from getpass import getpass  
  
openai_key = getpass("Enter your API Key:")  
client = OpenAI(api_key=openai_key)</code></pre>
</div>
<div>
<p dir="auto">This method <strong>helps keep the key secure by not hardcoding it into the script</strong>, which could be accidentally shared or exposed.</p>
</div>
<div>
<div data-callout-metadata="" data-callout-fold="" data-callout="warning" class="callout drop-shadow">
<div class="callout-title" dir="auto">
<div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle">
                        <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path>
                        <path d="M12 9v4"></path>
                        <path d="M12 17h.01"></path>
                      </svg></div>
<div class="callout-title-inner">Make sure never to hardcore the API Key or any other credentials</div>
</div>
<div class="callout-content">
<ul>
<li data-line="1" dir="auto"><strong>Unauthorized Access:</strong>
<ul>
<li data-line="2" dir="auto">If the notebook or script is shared or stored in a repository, anyone can use your API key to access the associated services, potentially leading to data breaches or abuse of the service.</li>
</ul>
</li>
<li data-line="3" dir="auto"><strong>Code Leakage:</strong>
<ul>
<li data-line="4" dir="auto">If the code is accidentally leaked or published, your API key becomes compromised.</li>
</ul>
</li>
<li data-line="5" dir="auto"><strong>Hard to maintain:</strong>
<ul>
<li data-line="6" dir="auto">Imagine you have a key that is being shared by 10 applications. What happens if the key expires and you need to replace all the keys with the new one.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div><hr></div>
<div><hr></div>
</div>
</div>
<div class="heading-wrapper">
<h1 data-heading="Where &quot;getpass()&quot; no longer works" dir="auto" class="heading" id="Where_&quot;getpass()&quot;_no_longer_works">Where "getpass()" no longer works</h1>
<div class="heading-children">
<div>
<p dir="auto">While the <code>getpass()</code> method helps keep the key secure by not hardcoding it into the script which which could be accidentally shared or exposed, this method is <strong>not suitable for scenarios where the Python script or application needs to run autonomously</strong>, without human interaction, such as:</p>
</div>
<div>
<ol>
<li data-line="0" dir="auto"><strong>Automated scripts or applications:</strong>&nbsp;If your script is part of a larger application or a scheduled task that runs automatically, there won't be a user present to input the API key each time it runs. This makes&nbsp;<code>getpass()</code>&nbsp;impractical.</li>
<li data-line="2" dir="auto"><strong>Web applications or services:</strong>&nbsp;For applications deployed on a server to provide services over the web, requiring manual input of an API key upon each restart or deployment is not feasible. These applications often need to start and operate without human intervention.</li>
<li data-line="4" dir="auto"><strong>Containerized applications:</strong>&nbsp;Applications deployed using containers (e.g., Docker) in cloud environments are designed to be easily replicated and scaled. Requiring manual input for each container instance is not practical.</li>
<li data-line="6" dir="auto"><strong>Development and testing environments:</strong>&nbsp;In environments where continuous integration/continuous deployment (CI/CD) practices are followed, the deployment process is automated, and manual steps like entering an API key each time the application is tested or deployed are not suitable.</li>
</ol>
</div>
<div><hr></div>
<div><hr></div>
</div>
</div>
<div class="heading-wrapper">
<h1 data-heading="Securely Managing API Keys &amp; Credentials with &quot;Environment Variables&quot;" dir="auto" class="heading" id="Securely_Managing_API_Keys_&amp;_Credentials_with_&quot;Environment_Variables&quot;">Securely Managing API Keys &amp; Credentials with "Environment Variables"</h1>
<div class="heading-children">
<div>
<p dir="auto">When building an application, the app may require access to a variety of APIs and other services, such as Google Sheet, AWS account, or Telegram messages. All these access would <strong>require some forms of credentials</strong> (i.e., username and password pair, API key).</p>
</div>
<div>
<p dir="auto">Think of an environment variable as a special, secure place on your computer or server where you can store these credentials Your Python scripts or applications can access the credentials, such as the OpenAI API key, when they need to access the services, but the credentials aren't visible to anyone just looking through the code.</p>
</div>
<div>
<p dir="auto">One way to set the environment variable is through a <strong>configuration file (.env).</strong></p>
</div>
<div class="heading-wrapper">
<h2 data-heading="What is a `.env` File?" dir="auto" class="heading" id="What_is_a_`.env`_File?">What is a <code>.env</code> File?</h2>
<div class="heading-children">
<div>
<ul>
<li data-line="0" dir="auto">‚ú¶ A <code>.env</code> file is a simple text file used to store configuration settings, environment variables, and other key-value pairs related to a Python project.</li>
<li data-line="1" dir="auto">‚ú¶ It typically contains sensitive information such as API keys, database credentials, or configuration settings.</li>
<li data-line="2" dir="auto">‚ú¶ Unlike hardcoding these values directly into your source code, you store them in a <code>.env</code> file, which is loaded into the project's environment during runtime.</li>
<li data-line="3" dir="auto">‚ú¶ using <code>.env</code> files in Python ensures secure management of sensitive information and allows for flexible configuration across different environments.</li>
<li data-line="4" dir="auto">‚ú¶ It's a best practice for maintaining security and scalability in your projects! üõ°Ô∏èüêç</li>
</ul>
</div>
</div>
</div>
<div class="heading-wrapper">
<h2 data-heading="Why Use a `.env` File?" dir="auto" class="heading" id="Why_Use_a_`.env`_File?">Why Use a <code>.env</code> File?</h2>
<div class="heading-children">
<div>
<ul>
<li data-line="0" dir="auto">‚ú¶ <strong>Security</strong>:
<ul>
<li data-line="1" dir="auto">By keeping sensitive data separate from your codebase, you reduce the risk of accidentally exposing it.</li>
</ul>
</li>
<li data-line="2" dir="auto">‚ú¶ <strong>Organization</strong>:
<ul>
<li data-line="3" dir="auto">It provides a systematic way to manage project-specific variables.</li>
</ul>
</li>
<li data-line="4" dir="auto">‚ú¶ <strong>Flexibility</strong>:
<ul>
<li data-line="5" dir="auto">You can easily switch between different configurations (development, testing, production) by modifying the <code>.env</code> file.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="heading-wrapper">
<h2 data-heading="How to Create and Use a `.env` File:" dir="auto" class="heading" id="How_to_Create_and_Use_a_`.env`_File:">How to Create and Use a <code>.env</code> File:</h2>
<div class="heading-children">
<div>
<ul>
<li data-line="0" dir="auto">‚ú¶ <strong>Step 1: Create the <code>.env</code> File</strong>:
<ul>
<li data-line="1" dir="auto">In your project directory, create a file named <code>.env</code> at the root level.</li>
<li data-line="2" dir="auto">This is where you'll store your configuration settings and sensitive information.</li>
<li data-line="3" dir="auto">Define key-value pairs in your <code>.env</code> file, for example:</li>
</ul>
</li>
</ul>
</div>
<div>
<pre class="d2l-code"><code class="language-markup">KEY="&lt;my_openai_key&gt;"</code></pre>
</div>
<div>
<ul>
<li data-line="0" dir="auto">‚ú¶ <strong>Step 2: Install the Module</strong>:
<ul>
<li data-line="1" dir="auto">Install the <code>python-dotenv</code> library using the following command:</li>
</ul>
</li>
</ul>
</div>
<div>
<pre class="d2l-code"><code class="language-bash">pip install python-dotenv  </code></pre>
</div>
<div>
<ul>
<li data-line="0" dir="auto">‚ú¶ <strong>Step 3: Access the <code>.env</code> File in Your Python Code</strong>:
<ul>
<li data-line="1" dir="auto">Import the <code>dotenv</code> module in your Python code.</li>
<li data-line="2" dir="auto">Use <code>load_dotenv()</code> to load variables from the <code>.env</code> file.</li>
<li data-line="3" dir="auto">Access the values using <code>os.getenv("KEY")</code> for each key-value pair defined in the <code>.env</code> file. Example:</li>
</ul>
<pre class="d2l-code"><code class="language-python">import os  
from dotenv import load_dotenv  

load_dotenv()  
print(os.getenv("KEY"))</code></pre>
</li>
</ul>
</div>
<div class="mod-footer"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></body></html>